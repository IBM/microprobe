

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MPT v0.5 &mdash; Microprobe v0.5 - HEAD  Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />

  
    <link rel="shortcut icon" href="_static/minilogo_white_256px2.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=34ebda9d"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="C test format" href="tools_ctest_format.html" />
    <link rel="prev" title="Microprobe test (mpt) format" href="tools_mpt_format.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Microprobe: Microbenchmark Generation Framework
              <img src="_static/minilogo_whiteb_150px.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index_microprobe.html">Microprobe</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tools.html">Command line tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tools_target_definition.html">Command line target definition scheme</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tools_mpt_format.html">Microprobe test (mpt) format</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tools_mpt_format.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="tools_mpt_format.html#mandatory-header-the-mpt-section">Mandatory header: the MPT Section</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="tools_mpt_format.html#format-definitions">Format definitions</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">MPT v0.5</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tools_ctest_format.html">C test format</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_bin2asm.html">Tool: mp_bin2asm</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_bin2objdump.html">Tool: mp_bin2objdump</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_c2mpt.html">Tool: mp_c2mpt</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_epi.html">Tool: mp_epi</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_mpt2bin.html">Tool: mp_mpt2bin</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_mpt2elf.html">Tool: mp_mpt2elf</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_mpt2test.html">Tool: mp_mpt2test</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_mpt2trace.html">Tool: mp_mpt2trace</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_objdump2mpt.html">Tool: mp_objdump2mpt</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_seq.html">Tool: mp_seq</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_seqtune.html">Tool: mp_seqtune</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_mp_target.html">Tool: mp_target</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel.html">Development Corner</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">Copyright</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Microprobe: Microbenchmark Generation Framework</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="tools.html">Command line tools</a></li>
          <li class="breadcrumb-item"><a href="tools_mpt_format.html">Microprobe test (mpt) format</a></li>
      <li class="breadcrumb-item active">MPT v0.5</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="tools_mpt_format.html" class="btn btn-neutral float-left" title="Microprobe test (mpt) format" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tools_ctest_format.html" class="btn btn-neutral float-right" title="C test format" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mpt-v0-5">
<h1>MPT v0.5<a class="headerlink" href="#mpt-v0-5" title="Link to this heading"></a></h1>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[MPT]</span></code></p></td>
<td><p>Mandatory</p></td>
<td><p>MPT header</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[CODE]</span></code></p></td>
<td><p>Mandatory</p></td>
<td><p>Code snippet specification</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[REGISTERS]</span></code></p></td>
<td><p>Optional</p></td>
<td><p>Register initialization</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[DATA]</span></code></p></td>
<td><p>Optional</p></td>
<td><p>Variable initialization</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[RAW]</span></code></p></td>
<td><p>Optional</p></td>
<td><p>RAW statements</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[STATE]</span></code></p></td>
<td><p>Optional</p></td>
<td><p>State specification</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[TRACE]</span></code></p></td>
<td><p>Optional</p></td>
<td><p>Tracing information</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[DAT]</span></code></p></td>
<td><p>Optional</p></td>
<td><p>DAT specification</p></td>
</tr>
</tbody>
</table>
<section id="registers-section">
<h2>[REGISTERS] Section<a class="headerlink" href="#registers-section" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="p">[</span><span class="n">REGISTERS</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">register</span> <span class="n">values</span>

<span class="p">;</span> <span class="n">Format</span><span class="p">:</span> <span class="n">register</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span> <span class="n">E</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">:</span>

<span class="p">;</span> <span class="n">Set</span> <span class="n">GR0</span><span class="p">,</span> <span class="n">GR1</span> <span class="ow">and</span> <span class="n">GR2</span> <span class="n">register</span> <span class="n">to</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="n">values</span> <span class="n">respectively</span>
<span class="n">GR0</span> <span class="o">=</span> <span class="mh">0x0</span>
<span class="n">GR1</span> <span class="o">=</span> <span class="mh">0x1</span>
<span class="n">GR2</span> <span class="o">=</span> <span class="mh">0x2</span>

</pre></div>
</div>
</section>
<section id="data-section">
<h2>[DATA] Section<a class="headerlink" href="#data-section" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DATA</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">variables</span>

<span class="p">;</span> <span class="n">Data</span> <span class="n">section</span> <span class="n">default</span> <span class="n">address</span><span class="o">.</span> <span class="n">Variables</span> <span class="n">will</span> <span class="n">be</span> <span class="n">placed</span> <span class="kn">from</span><span class="w"> </span><span class="nn">this</span> <span class="n">address</span>
<span class="p">;</span> <span class="k">if</span> <span class="n">their</span> <span class="n">address</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">specified</span>

<span class="n">default_address</span> <span class="o">=</span> <span class="mh">0x00200000</span>

<span class="p">;</span> <span class="n">Variable</span> <span class="n">Declaration</span>
<span class="p">;</span> <span class="n">Format</span><span class="p">:</span> <span class="n">var_name</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">nelems</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">alignment</span><span class="p">,</span> <span class="n">init_values</span> <span class="p">]</span>
<span class="p">;</span> <span class="n">where</span><span class="p">:</span>
<span class="p">;</span>   <span class="o">-</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">string</span> <span class="n">specifying</span> <span class="n">the</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">variable</span>
<span class="p">;</span>   <span class="o">-</span> <span class="n">nelems</span><span class="p">:</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">variable</span>
<span class="p">;</span>   <span class="o">-</span> <span class="n">address</span> <span class="p">:</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">address</span> <span class="n">of</span> <span class="n">the</span> <span class="n">variable</span><span class="p">,</span> <span class="k">if</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">address</span> <span class="n">will</span> <span class="n">be</span>
<span class="p">;</span>               <span class="n">fixed</span><span class="p">,</span> <span class="n">otherwise</span><span class="p">,</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span> <span class="n">computer</span> <span class="n">by</span> <span class="n">microprobe</span>
<span class="p">;</span>   <span class="o">-</span> <span class="n">alignment</span> <span class="p">:</span> <span class="n">alignment</span> <span class="n">requirements</span> <span class="n">of</span> <span class="n">the</span> <span class="n">variable</span><span class="o">.</span> <span class="n">It</span> <span class="n">should</span> <span class="ow">not</span>
<span class="p">;</span>                 <span class="n">conflict</span> <span class="k">with</span> <span class="n">address</span> <span class="k">if</span> <span class="n">specified</span><span class="o">.</span> <span class="n">It</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="kc">None</span>
<span class="p">;</span>   <span class="o">-</span> <span class="n">init_values</span> <span class="p">:</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">single</span> <span class="n">value</span><span class="p">,</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">will</span> <span class="n">be</span> 
<span class="p">;</span>                   <span class="n">initialized</span> <span class="n">to</span> <span class="n">that</span> <span class="n">value</span><span class="p">,</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">array</span><span class="p">,</span> <span class="n">elements</span>
<span class="p">;</span>                   <span class="n">will</span> <span class="n">be</span> <span class="n">initialized</span> <span class="n">to</span> <span class="n">the</span> <span class="n">values</span> <span class="n">specified</span> <span class="ow">in</span> <span class="n">a</span> <span class="nb">round</span><span class="o">-</span>
<span class="p">;</span>                   <span class="n">robin</span> <span class="n">fashion</span><span class="o">.</span> <span class="n">Two</span> <span class="n">special</span> <span class="n">keywords</span> <span class="n">can</span> <span class="n">be</span> <span class="n">specified</span><span class="p">:</span>
<span class="p">;</span>                   <span class="n">RNDFP</span> <span class="ow">and</span> <span class="n">RNDINT</span> <span class="n">to</span> <span class="n">initialize</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">to</span> <span class="n">random</span> <span class="n">FP</span>
<span class="p">;</span>                   <span class="ow">and</span> <span class="n">random</span> <span class="n">INT</span> <span class="n">values</span>
<span class="p">;</span>
<span class="p">;</span> <span class="n">Note</span> <span class="n">that</span> <span class="n">variable</span> <span class="n">names</span> <span class="n">ARE</span> <span class="n">NOT</span> <span class="n">case</span> <span class="n">sensitive</span><span class="o">.</span> <span class="n">I</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">VAR</span> <span class="o">=</span> <span class="n">Var</span> <span class="o">=</span> <span class="n">var</span>
<span class="p">;</span>
<span class="p">;</span> <span class="n">Some</span> <span class="n">examples</span><span class="p">:</span>

<span class="p">;</span> <span class="n">Integer</span> <span class="n">initialized</span> <span class="n">to</span> <span class="mi">1</span> <span class="n">without</span> <span class="n">address</span> <span class="ow">or</span> <span class="n">alignment</span> <span class="n">requirements</span>
<span class="n">var_sngl_int_1</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  

<span class="p">;</span> <span class="n">Array</span> <span class="n">of</span> <span class="mi">2</span> <span class="n">double</span> <span class="n">elements</span> <span class="n">initialized</span> <span class="n">to</span> <span class="mf">1.0</span> <span class="n">placed</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x00210000</span>
<span class="n">var_array_fp_1</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mh">0x00210000</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mf">1.0</span> <span class="p">]</span> 

<span class="p">;</span> <span class="n">Array</span> <span class="n">of</span> <span class="mi">40</span> <span class="n">double</span> <span class="n">elements</span> <span class="n">initialized</span> <span class="n">to</span> <span class="n">random</span> <span class="n">FP</span> <span class="n">values</span> <span class="n">placed</span> <span class="ow">in</span> 
<span class="p">;</span> <span class="n">an</span> <span class="n">address</span> <span class="n">aligned</span> <span class="n">to</span> <span class="mi">16</span> <span class="nb">bytes</span>
<span class="n">var_array_fp_rnd</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span>  <span class="n">RNDFP</span> <span class="p">]</span> 

<span class="p">;</span> <span class="n">Array</span> <span class="n">of</span> <span class="mi">10</span> <span class="n">short</span> <span class="n">elements</span> <span class="n">placed</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x00220000</span> <span class="ow">and</span> <span class="n">initialized</span> <span class="n">to</span>
<span class="p">;</span> <span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span> <span class="o">...</span> <span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span> <span class="n">values</span> 
<span class="n">var_array_int24</span>  <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;short&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mh">0x00220000</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>

</pre></div>
</div>
</section>
<section id="code-section">
<h2>[CODE] Section<a class="headerlink" href="#code-section" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice that the contents of the <strong>‘instructions =’</strong> entry are indented.
That is, all the instructions, labels or addresses should be specified in an
indented line. Otherwise, the parser believes that each line is a
different entry.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="p">[</span><span class="n">CODE</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">code</span>

<span class="p">;</span> <span class="n">Code</span> <span class="n">section</span> <span class="n">default</span> <span class="n">address</span><span class="o">.</span> <span class="n">Code</span> <span class="n">will</span> <span class="n">be</span> <span class="n">placed</span> <span class="kn">from</span><span class="w"> </span><span class="nn">this</span> <span class="n">address</span>
<span class="p">;</span> <span class="k">if</span> <span class="n">the</span> <span class="n">instruction</span> <span class="n">address</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">specified</span>

<span class="n">default_address</span> <span class="o">=</span> <span class="mh">0x00100000</span>

<span class="p">;</span> <span class="n">The</span> <span class="n">code</span> <span class="n">specified</span> <span class="n">after</span> <span class="s1">&#39;instructions&#39;</span> <span class="n">entry</span> <span class="p">(</span><span class="n">below</span><span class="p">)</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">code</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span>
<span class="p">;</span> <span class="n">processed</span> <span class="n">by</span> <span class="n">microprobe</span><span class="o">.</span> <span class="n">The</span> <span class="n">instruction</span> <span class="nb">format</span> <span class="ow">is</span> <span class="n">similar</span> <span class="n">to</span> <span class="n">GNU</span> <span class="n">assembler</span>
<span class="p">;</span> <span class="nb">format</span><span class="p">,</span> <span class="n">it</span> <span class="n">also</span> <span class="n">allows</span> <span class="n">the</span> <span class="n">specification</span> <span class="n">of</span> <span class="n">labels</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">case</span> <span class="n">sensitive</span><span class="p">)</span> <span class="ow">and</span>
<span class="p">;</span> <span class="n">references</span> <span class="n">to</span> <span class="n">the</span> <span class="n">declared</span> <span class="n">variables</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">also</span> <span class="n">possible</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">instruction</span>
<span class="p">;</span> <span class="n">addresses</span> <span class="ow">and</span> <span class="n">to</span> <span class="n">do</span> <span class="n">code</span> <span class="n">expansion</span> <span class="n">by</span> <span class="n">referencing</span> <span class="n">other</span> <span class="n">user</span> 
<span class="p">;</span> <span class="n">defined</span> <span class="n">entries</span><span class="o">.</span> <span class="n">Check</span> <span class="n">the</span> <span class="n">example</span> <span class="n">below</span> <span class="n">to</span> <span class="n">see</span> <span class="n">examples</span> <span class="n">of</span> <span class="n">these</span> <span class="n">features</span><span class="o">.</span>
<span class="p">;</span> 
<span class="p">;</span> <span class="o">*****************************************************************************</span>
<span class="p">;</span> <span class="o">******</span>  <span class="n">Although</span> <span class="n">Microprobe</span> <span class="n">performs</span> <span class="n">some</span> <span class="n">sanity</span> <span class="n">checks</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">the</span>   <span class="o">********</span> 
<span class="p">;</span> <span class="o">******</span>  <span class="n">responsibility</span> <span class="n">of</span> <span class="n">the</span> <span class="n">user</span> <span class="n">to</span> <span class="n">define</span> <span class="n">correct</span> <span class="n">code</span><span class="o">.</span>           <span class="o">********</span>
<span class="p">;</span> <span class="o">******</span>                                                               <span class="o">********</span>
<span class="p">;</span> <span class="o">*****************************************************************************</span>

<span class="n">instructions</span> <span class="o">=</span> 
    <span class="n">larl</span>    <span class="n">r2</span><span class="p">,</span> <span class="n">var_array_fp_rnd</span>     <span class="p">;</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">variable</span> <span class="n">var_array_fp_rnd</span>
    <span class="n">larl</span>    <span class="n">r5</span><span class="p">,</span> <span class="n">var_array_fp_1</span>       <span class="p">;</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">variable</span> <span class="n">var_array_fp_1</span>
    <span class="n">brcl_v3</span> <span class="mi">15</span><span class="p">,</span> <span class="n">myalign</span>              <span class="p">;</span> <span class="n">branch</span> <span class="n">relative</span> <span class="n">to</span> <span class="n">myalign</span><span class="p">,</span> <span class="ow">in</span> <span class="n">some</span>
                                     <span class="p">;</span> <span class="n">situations</span> <span class="n">the</span> <span class="n">instruction</span> <span class="n">variant</span> 
                                     <span class="p">;</span> <span class="p">(</span><span class="n">BRCL_V3</span><span class="p">)</span> <span class="n">has</span> <span class="n">to</span> <span class="n">be</span> <span class="n">specified</span>   
  <span class="mh">0x00000010</span> <span class="o">&lt;</span><span class="n">myalign</span><span class="o">&gt;</span> <span class="p">:</span>             <span class="p">;</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">label</span> <span class="s1">&#39;myalign&#39;</span> <span class="n">plus</span>
                                     <span class="p">;</span> <span class="n">specification</span> <span class="n">of</span> <span class="n">the</span> <span class="n">address</span> <span class="k">for</span>
                                     <span class="p">;</span> <span class="n">the</span> <span class="n">following</span> <span class="n">instruction</span> 
    <span class="n">vl</span>      <span class="n">v2</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span> <span class="n">r5</span><span class="p">)</span>            <span class="p">;</span>
    <span class="n">lghi</span>    <span class="n">r1</span><span class="p">,</span> <span class="mi">20</span>                   <span class="p">;</span>
  <span class="o">&lt;</span><span class="n">loop1</span><span class="o">&gt;</span> <span class="p">:</span>                          <span class="p">;</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">label</span> <span class="s1">&#39;loop1&#39;</span>           
    <span class="o">%</span><span class="p">(</span><span class="n">myloop</span><span class="p">)</span><span class="n">s</span>                       <span class="p">;</span> <span class="n">expansion</span><span class="p">,</span> <span class="s1">&#39;myloop&#39;</span> <span class="n">will</span> <span class="n">be</span> <span class="n">replaced</span> <span class="n">by</span> 
                                     <span class="p">;</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">myloop</span> <span class="n">entry</span> <span class="p">(</span><span class="n">below</span><span class="p">)</span> <span class="o">.</span>
                                     <span class="p">;</span> <span class="n">Useful</span> <span class="n">when</span> <span class="n">the</span> <span class="n">same</span> <span class="n">code</span> <span class="n">snippet</span> <span class="n">has</span>
                                     <span class="p">;</span> <span class="n">to</span> <span class="n">be</span> <span class="n">replicated</span> <span class="n">several</span> <span class="n">times</span>
    <span class="n">brctg</span>   <span class="n">r1</span><span class="p">,</span> <span class="n">loop1</span>                <span class="p">;</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">label</span> <span class="s1">&#39;loop1&#39;</span>
    <span class="n">brcl_v3</span> <span class="mi">15</span><span class="p">,</span> <span class="n">label1</span>               <span class="p">;</span>
  <span class="o">&lt;</span><span class="n">label1</span><span class="o">&gt;</span> <span class="mh">0x000100300</span><span class="p">:</span> <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span> <span class="n">labels</span><span class="o">/</span><span class="n">address</span> <span class="n">can</span> <span class="n">be</span> <span class="n">also</span> <span class="n">specified</span>
  <span class="mh">0x000100302</span> <span class="o">&lt;</span><span class="n">label2</span><span class="o">&gt;</span><span class="p">:</span> <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">same</span> <span class="n">line</span> <span class="k">as</span> <span class="n">assembly</span> <span class="ow">in</span> 
  <span class="o">&lt;</span><span class="n">label3</span><span class="o">&gt;</span><span class="p">:</span>             <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span> <span class="n">different</span> <span class="n">order</span> 
  <span class="mh">0x000100306</span><span class="p">:</span>          <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span>
                                     <span class="p">;</span> 
    <span class="n">svc</span>     <span class="mi">0</span>                        <span class="p">;</span> <span class="n">Add</span> <span class="n">your</span> <span class="n">favorite</span> <span class="n">end</span> <span class="n">test</span> <span class="n">sequences</span>
    <span class="n">brc</span>     <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span>                    <span class="p">;</span> <span class="n">svc</span> <span class="ow">or</span> <span class="n">branch</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="bp">self</span>
                                     <span class="p">;</span>
                                     <span class="p">;</span>
<span class="n">myloop</span> <span class="o">=</span>                             <span class="p">;</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">myloop</span> <span class="n">entry</span> <span class="n">used</span>
    <span class="n">vl</span>      <span class="n">v0</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>            <span class="p">;</span> <span class="n">expanded</span> <span class="n">within</span> <span class="s1">&#39;instructions&#39;</span> <span class="n">entry</span>
    <span class="n">vfa</span>     <span class="n">v0</span><span class="p">,</span> <span class="n">v0</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span>         <span class="p">;</span> 
    <span class="n">vst</span>     <span class="n">v0</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>            <span class="p">;</span>
    <span class="n">aghi</span>    <span class="n">r2</span><span class="p">,</span> <span class="mi">16</span>                   <span class="p">;</span>
 
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice that the contents of the <strong>‘instructions =’</strong> entry are indented.
That is, all the instructions, labels or addresses should be specified in an
indented line. Otherwise, the parser believes that each line is a
different entry.</p>
</div>
</section>
<section id="raw-section">
<h2>[RAW] Section<a class="headerlink" href="#raw-section" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">RAW</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">raw</span> <span class="n">string</span> <span class="n">to</span> <span class="n">be</span> <span class="n">generated</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">output</span> <span class="n">file</span>

<span class="p">;</span> <span class="n">Currently</span><span class="p">,</span> <span class="n">the</span> <span class="n">user</span> <span class="n">can</span> <span class="n">embed</span> <span class="s1">&#39;raw&#39;</span> <span class="n">statements</span> <span class="n">at</span> <span class="n">four</span> <span class="n">different</span> <span class="n">locations</span>

<span class="n">file_header</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>
    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">at</span> <span class="n">the</span> <span class="n">beginning</span> <span class="n">of</span> <span class="n">the</span> 
    <span class="o">*</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">file</span><span class="o">.</span>
    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>
    
<span class="n">file_footer</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span>
    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> 
    <span class="o">*</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">file</span><span class="o">.</span>
    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span> 

<span class="n">code_header</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>
    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">just</span> <span class="n">before</span> <span class="n">the</span> <span class="n">code</span> 
    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>

<span class="n">code_footer</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span>
    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">just</span> <span class="n">after</span> <span class="n">the</span> <span class="n">code</span>
    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span> 
</pre></div>
</div>
</section>
<section id="dat-section">
<h2>[DAT] Section<a class="headerlink" href="#dat-section" title="Link to this heading"></a></h2>
<p>In general, microbenchmarks generated do not need to be aware of the
Dynamic Address Translation (DAT) as they typically are targeted
to generate addresses within their own logical address space.
However, some backends support the generation of Dynamic Address
Translation aware microbenchmarks. In such backends, the user can
specify the address translation mappings. Check the example below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DAT</span><span class="p">]</span> <span class="p">;</span> <span class="n">Dynamic</span> <span class="n">address</span> <span class="n">translation</span>

<span class="c1"># Translation mappings. One can specify manually the translation mappings, and the</span>
<span class="c1"># instruction addresses will be generated accordingly. Whenever the instruction</span>
<span class="c1"># address matches one of the mappings, it is translated accordingly.</span>
<span class="c1"># Format is:  address, mapping_address, mask</span>
<span class="c1"># e.g.: trans_map = [ (0x0123456700123000, 0x00000DFA76590000, 0xfffffffffffff000 ),</span>
<span class="c1">#                     (0x0123456700124000, 0x00000DFA765A0000, 0xfffffffffffff000 ),</span>
<span class="c1">#                     ... ]</span>

<span class="n">dat_map</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="mh">0x0123456700123000</span><span class="p">,</span> <span class="mh">0x00000DFA76590000</span><span class="p">,</span> <span class="mh">0xfffffffffffff000</span> <span class="p">)</span> <span class="p">]</span>

<span class="c1">#</span>
<span class="c1"># This entry will be automatically appended to the generated testcase. It is treated</span>
<span class="c1"># like the code_footer entry in the [RAW] section</span>
<span class="c1">#</span>

<span class="n">dat_raw</span> <span class="o">=</span>
    <span class="o">*</span> <span class="o">--------</span> <span class="n">DAT</span> <span class="n">RAW</span> <span class="n">ENTRY</span> <span class="o">----------------</span>
    <span class="nb">any</span> <span class="n">code</span><span class="o">/</span><span class="nb">set</span> <span class="n">up</span> <span class="n">required</span> <span class="n">to</span> <span class="n">generated</span> <span class="n">the</span>
    <span class="n">expected</span> <span class="n">DAT</span> <span class="n">mappings</span>
    <span class="o">*</span> <span class="o">--------</span> <span class="n">DAT</span> <span class="n">RAW</span> <span class="n">ENTRY</span> <span class="o">----------------</span>
</pre></div>
</div>
<p>Example code using DAT-related decorations to control when the dynamic
address translation mechanisms is used or not:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CODE</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">code</span>

<span class="n">default_address</span> <span class="o">=</span> <span class="mh">0x123456700123000</span>

<span class="n">instructions</span> <span class="o">=</span>
    <span class="o">@</span> <span class="n">DAT</span><span class="o">=</span><span class="n">On</span>                    <span class="p">;</span> <span class="n">Enable</span> <span class="n">DAT</span>
    <span class="n">brc</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0</span>                  <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x123456700123000</span> <span class="o">--&gt;</span> <span class="mh">0x00000DFA76590000</span>
    <span class="n">lpswe</span> <span class="mh">0x0</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x123456700123004</span> <span class="o">--&gt;</span> <span class="mh">0x00000DFA76590004</span>
    <span class="o">@</span> <span class="n">DAT</span><span class="o">=</span><span class="n">Off</span>                   <span class="p">;</span> <span class="n">Disable</span> <span class="n">DAT</span>
  <span class="mh">0x000000000123000</span><span class="p">:</span>            <span class="p">;</span> <span class="n">New</span> <span class="n">address</span>
    <span class="n">ptlb</span>                        <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x0000000000123000</span> <span class="p">(</span><span class="n">no</span> <span class="n">translation</span><span class="p">)</span>
    <span class="n">lpswe</span> <span class="mh">0x0</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x0000000000123004</span> <span class="p">(</span><span class="n">no</span> <span class="n">translation</span><span class="p">)</span>
    <span class="o">@</span> <span class="n">DAT</span><span class="o">=</span><span class="n">On</span>                    <span class="p">;</span> <span class="n">Enable</span> <span class="n">DAT</span>
  <span class="mh">0x123456700123008</span><span class="p">:</span>            <span class="p">;</span> <span class="n">New</span> <span class="n">address</span>
    <span class="n">brc</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0</span>                  <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x123456700123008</span> <span class="o">--&gt;</span> <span class="mh">0x00000DFA76590008</span>
    <span class="n">brc</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0</span>                  <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x12345670012300C</span> <span class="o">--&gt;</span> <span class="mh">0x00000DFA7659000C</span>
    <span class="n">brc</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0</span>                  <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x123456700123010</span> <span class="o">--&gt;</span> <span class="mh">0x00000DFA76590010</span>
    <span class="n">brc</span> <span class="mi">15</span><span class="p">,</span> <span class="mh">0x0</span>                 <span class="p">;</span> <span class="n">At</span> <span class="n">address</span><span class="p">:</span> <span class="mh">0x123456700123014</span> <span class="o">--&gt;</span> <span class="mh">0x00000DFA76590014</span>
</pre></div>
</div>
</section>
<section id="state-section">
<h2>[STATE] Section<a class="headerlink" href="#state-section" title="Link to this heading"></a></h2>
<p>The state section is used to define the initial state of the microbenchmark.
Currently, it only has one entry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">STATE</span><span class="p">]</span>
<span class="n">contents</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">path_to_state_file</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>State files are text files where each line follows the following format:</p>
<blockquote>
<div><ul class="simple">
<li><p>a line starting by M, then an address and its contents separated by a single space (to specify memory contents)</p></li>
<li><p>a line starting by ‘R’, then the register name and then the value (to specify the reg. contents)</p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">M</span> <span class="mh">0x012345677</span> <span class="mi">01234567890</span><span class="n">ABCDEF01234567890ABCDEF01234567890ABCDEF01234567890ABCDEF</span>
<span class="n">M</span> <span class="mh">0x012345677</span> <span class="mi">01234567890</span><span class="n">ABCDEF01234567890ABCDEF01234567890ABCDEF01234567890ABCDEF</span>
<span class="o">...</span>
<span class="n">M</span> <span class="mh">0x012345677</span> <span class="mi">01234567890</span><span class="n">ABCDEF01234567890ABCDEF01234567890ABCDEF01234567890ABCDEF</span>
<span class="n">M</span> <span class="mh">0x012345677</span> <span class="mi">01234567890</span><span class="n">ABCDEF01234567890ABCDEF01234567890ABCDEF01234567890ABCDEF</span>
<span class="o">...</span>
<span class="n">R</span> <span class="n">GR0</span> <span class="mh">0x0123456789ABC</span>
<span class="n">R</span> <span class="n">GR1</span> <span class="mh">0x0123456789ABC</span>
<span class="n">R</span> <span class="n">GR2</span> <span class="mh">0x0123456789ABC</span>
<span class="o">...</span>
<span class="n">R</span> <span class="n">GR31</span> <span class="mh">0x0123456789ABC</span>
</pre></div>
</div>
<p>Clarifications on the format:</p>
<blockquote>
<div><ul class="simple">
<li><p>Register entries can appear at any point.</p></li>
<li><p>Register entries do not need to be sorted.</p></li>
<li><p>Register entries can have duplicates. The last value of seen
for a register will be used. A warning will be generated.</p></li>
<li><p>Register values provided in <code class="docutils literal notranslate"><span class="pre">[REGISTERS]</span></code> section will take preference
over registers values specified in the state file.</p></li>
<li><p>Memory entries can appear at any point but they should be sorted by memory
access order (the actual access order generated by the program). This information
about order might be eventually used by Microprobe to implement different
data warm-up schemes.</p></li>
<li><p>Size of memory contents is automatically inferred from the content string
length.</p></li>
<li><p>For readability, it is preferred to dump first the registers and then
the memory entries in program access order.</p></li>
</ul>
</div></blockquote>
</section>
<section id="trace-section">
<h2>[TRACE] Section<a class="headerlink" href="#trace-section" title="Link to this heading"></a></h2>
<p>MPTs can be generated from simulation/execution traces. Also, traces can be generated
from a given MPT. The trace section is used to define trace related information
such as the number of instructions/cycles executed/simulated or the information
(start/end) in cycles or instructions of the region of interest (ROI) to be
traced. Currently, this section supports the following entries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">TRACE</span><span class="p">]</span>

<span class="n">roi_start_instruction</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>     <span class="p">;</span> <span class="n">Start</span> <span class="n">dynamic</span> <span class="n">instruction</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="n">roi_end_instruction</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>       <span class="p">;</span> <span class="n">End</span> <span class="n">dynamic</span> <span class="n">instruction</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="n">roi_start_cycle</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>           <span class="p">;</span> <span class="n">Start</span> <span class="n">cycle</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="n">roi_end_cycle</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">End</span> <span class="n">cycle</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="n">instruction_count</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>         <span class="p">;</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">dynamic</span> <span class="n">instructions</span> <span class="n">readed</span><span class="o">/</span><span class="n">to_generate</span>
<span class="n">cycle_count</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>               <span class="p">;</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">cycles</span> <span class="n">processed</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">source</span> <span class="n">trace</span>
<span class="n">roi_memory_access_trace</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">path_to_trace_file</span><span class="o">&gt;</span> <span class="p">;</span> <span class="n">Path</span> <span class="n">to</span> <span class="n">trace</span> <span class="n">file</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">memory</span>
                                               <span class="p">;</span> <span class="n">access</span> <span class="n">trace</span> <span class="n">of</span> <span class="n">the</span> <span class="n">test</span> <span class="n">cases</span><span class="o">.</span>
</pre></div>
</div>
<p>Memory access trace files are text files where each line describes a memory access in
progrem execution order. Each line contains the following four fields separated by
a space:</p>
<blockquote>
<div><ul class="simple">
<li><p>Type of data: data (D) or code (I)</p></li>
<li><p>Type of access: read/load (R) or write/store (W)</p></li>
<li><p>Address in hexadecimal format (0x ….)</p></li>
<li><p>Length in bytes in decimal format</p></li>
</ul>
</div></blockquote>
<p>Lines can also include comments after the ‘;’ character. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">I</span> <span class="n">R</span> <span class="mh">0x0000000100001000</span> <span class="mi">4</span> <span class="p">;</span> <span class="n">Code</span> <span class="n">read</span> <span class="n">of</span> <span class="mi">4</span> <span class="nb">bytes</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x100001000</span>
<span class="n">I</span> <span class="n">R</span> <span class="mh">0x0000000100001004</span> <span class="mi">4</span> <span class="p">;</span> <span class="n">Code</span> <span class="n">read</span> <span class="n">of</span> <span class="mi">4</span> <span class="nb">bytes</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x100001004</span>
<span class="n">I</span> <span class="n">R</span> <span class="mh">0x0000000100001008</span> <span class="mi">4</span> <span class="p">;</span> <span class="n">Code</span> <span class="n">read</span> <span class="n">of</span> <span class="mi">4</span> <span class="nb">bytes</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x100001008</span>
<span class="n">D</span> <span class="n">R</span> <span class="mh">0x0000000101000000</span> <span class="mi">8</span> <span class="p">;</span> <span class="n">Data</span> <span class="n">read</span> <span class="n">of</span> <span class="mi">8</span> <span class="nb">bytes</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x101000000</span>
<span class="n">D</span> <span class="n">W</span> <span class="mh">0x0000000101000008</span> <span class="mi">8</span> <span class="p">;</span> <span class="n">Data</span> <span class="n">write</span> <span class="n">of</span> <span class="mi">8</span> <span class="nb">bytes</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x101000008</span>
</pre></div>
</div>
</section>
<section id="complete-example">
<h2>Complete example<a class="headerlink" href="#complete-example" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="p">;</span> <span class="n">Microprobe</span> <span class="n">Test</span> <span class="n">Definition</span> <span class="n">File</span>
<span class="linenos">  2</span><span class="p">[</span><span class="n">MPT</span><span class="p">]</span>
<span class="linenos">  3</span><span class="n">mpt_version</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="p">;</span>  <span class="n">Format</span> <span class="n">version</span> <span class="n">of</span> <span class="n">this</span> <span class="n">MPT</span> <span class="n">file</span><span class="o">.</span>
<span class="linenos">  4</span>
<span class="linenos">  5</span><span class="p">[</span><span class="n">REGISTERS</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">register</span> <span class="n">values</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="p">;</span> <span class="n">Format</span><span class="p">:</span> <span class="n">register</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span> <span class="n">E</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">:</span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="p">;</span> <span class="n">Set</span> <span class="n">GR0</span><span class="p">,</span> <span class="n">GR1</span> <span class="ow">and</span> <span class="n">GR2</span> <span class="n">register</span> <span class="n">to</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="n">values</span> <span class="n">respectively</span>
<span class="linenos"> 10</span><span class="n">GR0</span> <span class="o">=</span> <span class="mh">0x0</span>
<span class="linenos"> 11</span><span class="n">GR1</span> <span class="o">=</span> <span class="mh">0x1</span>
<span class="linenos"> 12</span><span class="n">GR2</span> <span class="o">=</span> <span class="mh">0x2</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="p">[</span><span class="n">DATA</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">variables</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="p">;</span> <span class="n">Data</span> <span class="n">section</span> <span class="n">default</span> <span class="n">address</span><span class="o">.</span> <span class="n">Variables</span> <span class="n">will</span> <span class="n">be</span> <span class="n">placed</span> <span class="kn">from</span><span class="w"> </span><span class="nn">this</span> <span class="n">address</span>
<span class="linenos"> 17</span><span class="p">;</span> <span class="k">if</span> <span class="n">their</span> <span class="n">address</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">specified</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="n">default_address</span> <span class="o">=</span> <span class="mh">0x00200000</span>
<span class="linenos"> 20</span>
<span class="linenos"> 21</span><span class="p">;</span> <span class="n">Variable</span> <span class="n">Declaration</span>
<span class="linenos"> 22</span><span class="p">;</span> <span class="n">Format</span><span class="p">:</span> <span class="n">var_name</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">nelems</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">alignment</span><span class="p">,</span> <span class="n">init_values</span> <span class="p">]</span>
<span class="linenos"> 23</span><span class="p">;</span> <span class="n">where</span><span class="p">:</span>
<span class="linenos"> 24</span><span class="p">;</span>   <span class="o">-</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">string</span> <span class="n">specifying</span> <span class="n">the</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">variable</span>
<span class="linenos"> 25</span><span class="p">;</span>   <span class="o">-</span> <span class="n">nelems</span><span class="p">:</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">variable</span>
<span class="linenos"> 26</span><span class="p">;</span>   <span class="o">-</span> <span class="n">address</span> <span class="p">:</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">address</span> <span class="n">of</span> <span class="n">the</span> <span class="n">variable</span><span class="p">,</span> <span class="k">if</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">address</span> <span class="n">will</span> <span class="n">be</span>
<span class="linenos"> 27</span><span class="p">;</span>               <span class="n">fixed</span><span class="p">,</span> <span class="n">otherwise</span><span class="p">,</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span> <span class="n">computer</span> <span class="n">by</span> <span class="n">microprobe</span>
<span class="linenos"> 28</span><span class="p">;</span>   <span class="o">-</span> <span class="n">alignment</span> <span class="p">:</span> <span class="n">alignment</span> <span class="n">requirements</span> <span class="n">of</span> <span class="n">the</span> <span class="n">variable</span><span class="o">.</span> <span class="n">It</span> <span class="n">should</span> <span class="ow">not</span>
<span class="linenos"> 29</span><span class="p">;</span>                 <span class="n">conflict</span> <span class="k">with</span> <span class="n">address</span> <span class="k">if</span> <span class="n">specified</span><span class="o">.</span> <span class="n">It</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="kc">None</span>
<span class="linenos"> 30</span><span class="p">;</span>   <span class="o">-</span> <span class="n">init_values</span> <span class="p">:</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">single</span> <span class="n">value</span><span class="p">,</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">will</span> <span class="n">be</span> 
<span class="linenos"> 31</span><span class="p">;</span>                   <span class="n">initialized</span> <span class="n">to</span> <span class="n">that</span> <span class="n">value</span><span class="p">,</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">array</span><span class="p">,</span> <span class="n">elements</span>
<span class="linenos"> 32</span><span class="p">;</span>                   <span class="n">will</span> <span class="n">be</span> <span class="n">initialized</span> <span class="n">to</span> <span class="n">the</span> <span class="n">values</span> <span class="n">specified</span> <span class="ow">in</span> <span class="n">a</span> <span class="nb">round</span><span class="o">-</span>
<span class="linenos"> 33</span><span class="p">;</span>                   <span class="n">robin</span> <span class="n">fashion</span><span class="o">.</span> <span class="n">Two</span> <span class="n">special</span> <span class="n">keywords</span> <span class="n">can</span> <span class="n">be</span> <span class="n">specified</span><span class="p">:</span>
<span class="linenos"> 34</span><span class="p">;</span>                   <span class="n">RNDFP</span> <span class="ow">and</span> <span class="n">RNDINT</span> <span class="n">to</span> <span class="n">initialize</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">to</span> <span class="n">random</span> <span class="n">FP</span>
<span class="linenos"> 35</span><span class="p">;</span>                   <span class="ow">and</span> <span class="n">random</span> <span class="n">INT</span> <span class="n">values</span>
<span class="linenos"> 36</span><span class="p">;</span>
<span class="linenos"> 37</span><span class="p">;</span> <span class="n">Note</span> <span class="n">that</span> <span class="n">variable</span> <span class="n">names</span> <span class="n">ARE</span> <span class="n">NOT</span> <span class="n">case</span> <span class="n">sensitive</span><span class="o">.</span> <span class="n">I</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">VAR</span> <span class="o">=</span> <span class="n">Var</span> <span class="o">=</span> <span class="n">var</span>
<span class="linenos"> 38</span><span class="p">;</span>
<span class="linenos"> 39</span><span class="p">;</span> <span class="n">Some</span> <span class="n">examples</span><span class="p">:</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span><span class="p">;</span> <span class="n">Integer</span> <span class="n">initialized</span> <span class="n">to</span> <span class="mi">1</span> <span class="n">without</span> <span class="n">address</span> <span class="ow">or</span> <span class="n">alignment</span> <span class="n">requirements</span>
<span class="linenos"> 42</span><span class="n">var_sngl_int_1</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  
<span class="linenos"> 43</span>
<span class="linenos"> 44</span><span class="p">;</span> <span class="n">Array</span> <span class="n">of</span> <span class="mi">2</span> <span class="n">double</span> <span class="n">elements</span> <span class="n">initialized</span> <span class="n">to</span> <span class="mf">1.0</span> <span class="n">placed</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x00210000</span>
<span class="linenos"> 45</span><span class="n">var_array_fp_1</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mh">0x00210000</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mf">1.0</span> <span class="p">]</span> 
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="p">;</span> <span class="n">Array</span> <span class="n">of</span> <span class="mi">40</span> <span class="n">double</span> <span class="n">elements</span> <span class="n">initialized</span> <span class="n">to</span> <span class="n">random</span> <span class="n">FP</span> <span class="n">values</span> <span class="n">placed</span> <span class="ow">in</span> 
<span class="linenos"> 48</span><span class="p">;</span> <span class="n">an</span> <span class="n">address</span> <span class="n">aligned</span> <span class="n">to</span> <span class="mi">16</span> <span class="nb">bytes</span>
<span class="linenos"> 49</span><span class="n">var_array_fp_rnd</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span>  <span class="n">RNDFP</span> <span class="p">]</span> 
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="p">;</span> <span class="n">Array</span> <span class="n">of</span> <span class="mi">10</span> <span class="n">short</span> <span class="n">elements</span> <span class="n">placed</span> <span class="n">at</span> <span class="n">address</span> <span class="mh">0x00220000</span> <span class="ow">and</span> <span class="n">initialized</span> <span class="n">to</span>
<span class="linenos"> 52</span><span class="p">;</span> <span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span> <span class="o">...</span> <span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span> <span class="n">values</span> 
<span class="linenos"> 53</span><span class="n">var_array_int24</span>  <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;short&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mh">0x00220000</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span><span class="p">[</span><span class="n">CODE</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">code</span>
<span class="linenos"> 56</span>
<span class="linenos"> 57</span><span class="p">;</span> <span class="n">Code</span> <span class="n">section</span> <span class="n">default</span> <span class="n">address</span><span class="o">.</span> <span class="n">Code</span> <span class="n">will</span> <span class="n">be</span> <span class="n">placed</span> <span class="kn">from</span><span class="w"> </span><span class="nn">this</span> <span class="n">address</span>
<span class="linenos"> 58</span><span class="p">;</span> <span class="k">if</span> <span class="n">the</span> <span class="n">instruction</span> <span class="n">address</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">specified</span>
<span class="linenos"> 59</span>
<span class="linenos"> 60</span><span class="n">default_address</span> <span class="o">=</span> <span class="mh">0x00100000</span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span><span class="p">;</span> <span class="n">The</span> <span class="n">code</span> <span class="n">specified</span> <span class="n">after</span> <span class="s1">&#39;instructions&#39;</span> <span class="n">entry</span> <span class="p">(</span><span class="n">below</span><span class="p">)</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">code</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span>
<span class="linenos"> 63</span><span class="p">;</span> <span class="n">processed</span> <span class="n">by</span> <span class="n">microprobe</span><span class="o">.</span> <span class="n">The</span> <span class="n">instruction</span> <span class="nb">format</span> <span class="ow">is</span> <span class="n">similar</span> <span class="n">to</span> <span class="n">GNU</span> <span class="n">assembler</span>
<span class="linenos"> 64</span><span class="p">;</span> <span class="nb">format</span><span class="p">,</span> <span class="n">it</span> <span class="n">also</span> <span class="n">allows</span> <span class="n">the</span> <span class="n">specification</span> <span class="n">of</span> <span class="n">labels</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">case</span> <span class="n">sensitive</span><span class="p">)</span> <span class="ow">and</span>
<span class="linenos"> 65</span><span class="p">;</span> <span class="n">references</span> <span class="n">to</span> <span class="n">the</span> <span class="n">declared</span> <span class="n">variables</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">also</span> <span class="n">possible</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">instruction</span>
<span class="linenos"> 66</span><span class="p">;</span> <span class="n">addresses</span> <span class="ow">and</span> <span class="n">to</span> <span class="n">do</span> <span class="n">code</span> <span class="n">expansion</span> <span class="n">by</span> <span class="n">referencing</span> <span class="n">other</span> <span class="n">user</span> 
<span class="linenos"> 67</span><span class="p">;</span> <span class="n">defined</span> <span class="n">entries</span><span class="o">.</span> <span class="n">Check</span> <span class="n">the</span> <span class="n">example</span> <span class="n">below</span> <span class="n">to</span> <span class="n">see</span> <span class="n">examples</span> <span class="n">of</span> <span class="n">these</span> <span class="n">features</span><span class="o">.</span>
<span class="linenos"> 68</span><span class="p">;</span> 
<span class="linenos"> 69</span><span class="p">;</span> <span class="o">*****************************************************************************</span>
<span class="linenos"> 70</span><span class="p">;</span> <span class="o">******</span>  <span class="n">Although</span> <span class="n">Microprobe</span> <span class="n">performs</span> <span class="n">some</span> <span class="n">sanity</span> <span class="n">checks</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">the</span>   <span class="o">********</span> 
<span class="linenos"> 71</span><span class="p">;</span> <span class="o">******</span>  <span class="n">responsibility</span> <span class="n">of</span> <span class="n">the</span> <span class="n">user</span> <span class="n">to</span> <span class="n">define</span> <span class="n">correct</span> <span class="n">code</span><span class="o">.</span>           <span class="o">********</span>
<span class="linenos"> 72</span><span class="p">;</span> <span class="o">******</span>                                                               <span class="o">********</span>
<span class="linenos"> 73</span><span class="p">;</span> <span class="o">*****************************************************************************</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="n">instructions</span> <span class="o">=</span> 
<span class="linenos"> 76</span>    <span class="n">larl</span>    <span class="n">r2</span><span class="p">,</span> <span class="n">var_array_fp_rnd</span>     <span class="p">;</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">variable</span> <span class="n">var_array_fp_rnd</span>
<span class="linenos"> 77</span>    <span class="n">larl</span>    <span class="n">r5</span><span class="p">,</span> <span class="n">var_array_fp_1</span>       <span class="p">;</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">variable</span> <span class="n">var_array_fp_1</span>
<span class="linenos"> 78</span>    <span class="n">brcl_v3</span> <span class="mi">15</span><span class="p">,</span> <span class="n">myalign</span>              <span class="p">;</span> <span class="n">branch</span> <span class="n">relative</span> <span class="n">to</span> <span class="n">myalign</span><span class="p">,</span> <span class="ow">in</span> <span class="n">some</span>
<span class="linenos"> 79</span>                                     <span class="p">;</span> <span class="n">situations</span> <span class="n">the</span> <span class="n">instruction</span> <span class="n">variant</span> 
<span class="linenos"> 80</span>                                     <span class="p">;</span> <span class="p">(</span><span class="n">BRCL_V3</span><span class="p">)</span> <span class="n">has</span> <span class="n">to</span> <span class="n">be</span> <span class="n">specified</span>   
<span class="linenos"> 81</span>  <span class="mh">0x00000010</span> <span class="o">&lt;</span><span class="n">myalign</span><span class="o">&gt;</span> <span class="p">:</span>             <span class="p">;</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">label</span> <span class="s1">&#39;myalign&#39;</span> <span class="n">plus</span>
<span class="linenos"> 82</span>                                     <span class="p">;</span> <span class="n">specification</span> <span class="n">of</span> <span class="n">the</span> <span class="n">address</span> <span class="k">for</span>
<span class="linenos"> 83</span>                                     <span class="p">;</span> <span class="n">the</span> <span class="n">following</span> <span class="n">instruction</span> 
<span class="linenos"> 84</span>    <span class="n">vl</span>      <span class="n">v2</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span> <span class="n">r5</span><span class="p">)</span>            <span class="p">;</span>
<span class="linenos"> 85</span>    <span class="n">lghi</span>    <span class="n">r1</span><span class="p">,</span> <span class="mi">20</span>                   <span class="p">;</span>
<span class="linenos"> 86</span>  <span class="o">&lt;</span><span class="n">loop1</span><span class="o">&gt;</span> <span class="p">:</span>                          <span class="p">;</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">label</span> <span class="s1">&#39;loop1&#39;</span>           
<span class="linenos"> 87</span>    <span class="o">%</span><span class="p">(</span><span class="n">myloop</span><span class="p">)</span><span class="n">s</span>                       <span class="p">;</span> <span class="n">expansion</span><span class="p">,</span> <span class="s1">&#39;myloop&#39;</span> <span class="n">will</span> <span class="n">be</span> <span class="n">replaced</span> <span class="n">by</span> 
<span class="linenos"> 88</span>                                     <span class="p">;</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">myloop</span> <span class="n">entry</span> <span class="p">(</span><span class="n">below</span><span class="p">)</span> <span class="o">.</span>
<span class="linenos"> 89</span>                                     <span class="p">;</span> <span class="n">Useful</span> <span class="n">when</span> <span class="n">the</span> <span class="n">same</span> <span class="n">code</span> <span class="n">snippet</span> <span class="n">has</span>
<span class="linenos"> 90</span>                                     <span class="p">;</span> <span class="n">to</span> <span class="n">be</span> <span class="n">replicated</span> <span class="n">several</span> <span class="n">times</span>
<span class="linenos"> 91</span>    <span class="n">brctg</span>   <span class="n">r1</span><span class="p">,</span> <span class="n">loop1</span>                <span class="p">;</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">label</span> <span class="s1">&#39;loop1&#39;</span>
<span class="linenos"> 92</span>    <span class="n">brcl_v3</span> <span class="mi">15</span><span class="p">,</span> <span class="n">label1</span>               <span class="p">;</span>
<span class="linenos"> 93</span>  <span class="o">&lt;</span><span class="n">label1</span><span class="o">&gt;</span> <span class="mh">0x000100300</span><span class="p">:</span> <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span> <span class="n">labels</span><span class="o">/</span><span class="n">address</span> <span class="n">can</span> <span class="n">be</span> <span class="n">also</span> <span class="n">specified</span>
<span class="linenos"> 94</span>  <span class="mh">0x000100302</span> <span class="o">&lt;</span><span class="n">label2</span><span class="o">&gt;</span><span class="p">:</span> <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">same</span> <span class="n">line</span> <span class="k">as</span> <span class="n">assembly</span> <span class="ow">in</span> 
<span class="linenos"> 95</span>  <span class="o">&lt;</span><span class="n">label3</span><span class="o">&gt;</span><span class="p">:</span>             <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span> <span class="n">different</span> <span class="n">order</span> 
<span class="linenos"> 96</span>  <span class="mh">0x000100306</span><span class="p">:</span>          <span class="n">bcr</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="p">;</span>
<span class="linenos"> 97</span>                                     <span class="p">;</span> 
<span class="linenos"> 98</span>    <span class="n">svc</span>     <span class="mi">0</span>                        <span class="p">;</span> <span class="n">Add</span> <span class="n">your</span> <span class="n">favorite</span> <span class="n">end</span> <span class="n">test</span> <span class="n">sequences</span>
<span class="linenos"> 99</span>    <span class="n">brc</span>     <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span>                    <span class="p">;</span> <span class="n">svc</span> <span class="ow">or</span> <span class="n">branch</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="bp">self</span>
<span class="linenos">100</span>                                     <span class="p">;</span>
<span class="linenos">101</span>                                     <span class="p">;</span>
<span class="linenos">102</span><span class="n">myloop</span> <span class="o">=</span>                             <span class="p">;</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">myloop</span> <span class="n">entry</span> <span class="n">used</span>
<span class="linenos">103</span>    <span class="n">vl</span>      <span class="n">v0</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>            <span class="p">;</span> <span class="n">expanded</span> <span class="n">within</span> <span class="s1">&#39;instructions&#39;</span> <span class="n">entry</span>
<span class="linenos">104</span>    <span class="n">vfa</span>     <span class="n">v0</span><span class="p">,</span> <span class="n">v0</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span>         <span class="p">;</span> 
<span class="linenos">105</span>    <span class="n">vst</span>     <span class="n">v0</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="n">r0</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>            <span class="p">;</span>
<span class="linenos">106</span>    <span class="n">aghi</span>    <span class="n">r2</span><span class="p">,</span> <span class="mi">16</span>                   <span class="p">;</span>
<span class="linenos">107</span> 
<span class="linenos">108</span>    
<span class="linenos">109</span><span class="p">[</span><span class="n">RAW</span><span class="p">]</span> <span class="p">;</span> <span class="n">Section</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">raw</span> <span class="n">string</span> <span class="n">to</span> <span class="n">be</span> <span class="n">generated</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">output</span> <span class="n">file</span>
<span class="linenos">110</span>
<span class="linenos">111</span><span class="p">;</span> <span class="n">Currently</span><span class="p">,</span> <span class="n">the</span> <span class="n">user</span> <span class="n">can</span> <span class="n">embed</span> <span class="s1">&#39;raw&#39;</span> <span class="n">statements</span> <span class="n">at</span> <span class="n">four</span> <span class="n">different</span> <span class="n">locations</span>
<span class="linenos">112</span>
<span class="linenos">113</span><span class="n">file_header</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>
<span class="linenos">114</span>    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">at</span> <span class="n">the</span> <span class="n">beginning</span> <span class="n">of</span> <span class="n">the</span> 
<span class="linenos">115</span>    <span class="o">*</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">file</span><span class="o">.</span>
<span class="linenos">116</span>    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>
<span class="linenos">117</span>    
<span class="linenos">118</span><span class="n">file_footer</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span>
<span class="linenos">119</span>    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> 
<span class="linenos">120</span>    <span class="o">*</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">file</span><span class="o">.</span>
<span class="linenos">121</span>    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">FILE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span> 
<span class="linenos">122</span>
<span class="linenos">123</span><span class="n">code_header</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>
<span class="linenos">124</span>    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">just</span> <span class="n">before</span> <span class="n">the</span> <span class="n">code</span> 
<span class="linenos">125</span>    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">HEADER</span> <span class="o">-----------------------</span>
<span class="linenos">126</span>
<span class="linenos">127</span><span class="n">code_footer</span> <span class="o">=</span> <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span>
<span class="linenos">128</span>    <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">going</span> <span class="n">to</span> <span class="n">be</span> <span class="n">embedded</span> <span class="s1">&#39;as is&#39;</span> <span class="n">just</span> <span class="n">after</span> <span class="n">the</span> <span class="n">code</span>
<span class="linenos">129</span>    <span class="o">*</span> <span class="o">------------------------</span> <span class="n">CODE</span> <span class="n">FOOTER</span> <span class="o">-----------------------</span> 
<span class="linenos">130</span>
<span class="linenos">131</span><span class="p">[</span><span class="n">TRACE</span><span class="p">]</span>
<span class="linenos">132</span>
<span class="linenos">133</span><span class="n">roi_start_instruction</span> <span class="o">=</span> <span class="mi">4323</span>      <span class="p">;</span> <span class="n">Start</span> <span class="n">dynamic</span> <span class="n">instruction</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="linenos">134</span><span class="n">roi_end_instruction</span> <span class="o">=</span> <span class="mi">5744</span>        <span class="p">;</span> <span class="n">End</span> <span class="n">dynamic</span> <span class="n">instruction</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="linenos">135</span><span class="n">roi_start_cycle</span> <span class="o">=</span> <span class="mi">30000</span>           <span class="p">;</span> <span class="n">Start</span> <span class="n">cycle</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="linenos">136</span><span class="n">roi_end_cycle</span> <span class="o">=</span> <span class="mi">39982</span>             <span class="p">;</span> <span class="n">End</span> <span class="n">cycle</span> <span class="n">of</span> <span class="n">the</span> <span class="n">region</span> <span class="n">of</span> <span class="n">interest</span>
<span class="linenos">137</span><span class="n">instruction_count</span> <span class="o">=</span> <span class="mi">5744</span>          <span class="p">;</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">dynamic</span> <span class="n">instructions</span> <span class="n">readed</span><span class="o">/</span><span class="n">to_generate</span>
<span class="linenos">138</span><span class="n">cycle_count</span> <span class="o">=</span> <span class="mi">39982</span>               <span class="p">;</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">cycles</span> <span class="n">processed</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">source</span> <span class="n">trace</span>
<span class="linenos">139</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="copyright.html">Copyright</a> IBM Corporation, 2011-2020.
 v0.5 - HEAD .
      <span class="lastupdated">Last updated on Sep 11, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>